<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>GeoTourism</title>
  <meta name="description" content="Discover Zimbabwe: destinations, itineraries, booking links, and exportable trip planning tools." />

  <link rel="icon" href="assets/icons/logo.png" type="image/png" />
  <link rel="apple-touch-icon" href="assets/icons/logo.png" />
  <meta name="theme-color" content="#0B1220" />

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="print.css" media="print" />

  <!-- Leaflet (Map View) -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
</head>

<body>
  <a class="skip-link" href="#main">Skip to content</a>

  <header class="topbar" role="banner">
    <div class="container topbar__inner">
      <!-- Brand -->
      <button class="brand" id="brandHome" type="button" aria-label="Go to Destinations">
        <div class="brand__mark" aria-hidden="true">
          <img src="assets/icons/logo.png" alt="" />
        </div>
        <div class="brand__text">
          <div class="brand__name">GeoTourism</div>
          <div class="brand__tag">Plan • Book • Export</div>
        </div>
      </button>

      <nav class="nav" aria-label="Primary">
        <button class="nav__toggle" id="navToggle" aria-expanded="false" aria-controls="navLinks">
          Menu
        </button>

        <div class="nav__links" id="navLinks">
          <button class="tab is-active" data-view="destinations" aria-current="page">Destinations</button>
          <button class="tab" data-view="map">Map</button>
          <button class="tab" data-view="itineraries">Itineraries</button>
          <button class="tab" data-view="export">Export / PDF</button>
          <button class="tab" data-view="deals">Book Hotels & Tours</button>
          <button class="tab" data-view="shop">Shop</button>
          <button class="tab" data-view="logistics">Logistics</button>
          <button class="tab" data-view="supply-demand">Supply & Demand</button>
          <button class="tab" data-view="consult">Consultation</button>
        </div>
      </nav>
    </div>
  </header>

  <main id="main" class="main" role="main">
    <section class="hero" aria-label="Intro">
      <div class="container hero__inner">
        <div class="hero__copy">
          <div class="kicker">Zimbabwe tourism platform</div>

          <h1>Zimbabwe tourism, built like an app: discover, plan, book, and export.</h1>

          <p class="lead">
            GeoTourismZim combines destination intelligence with monetization-ready booking flows:
            affiliate links, digital guides, interactive maps, and trip reviews.
          </p>

          <div class="hero__actions">
            <button class="btn btn--primary" id="jumpShop" type="button">Open Shop</button>
            <button class="btn btn--ghost" id="jumpDeals" type="button">Book Hotels & Tours</button>
            <button class="btn btn--ghost" id="jumpExport" type="button">Export / PDF</button>
          </div>
        </div>

        <div class="hero__panel glass">
          <div class="panel__title">Toolkit</div>
          <div class="metrics" id="quickMetrics" aria-live="polite"></div>

          <div class="panel__title panel__title--mt">Modules</div>
          <ul class="bullets" id="quickHighlights"></ul>
        </div>
      </div>
    </section>

    <section class="container content">
      <div id="viewOutlet"></div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <div>
        <div class="footer__brand">GeoTourismZim</div>
        <div class="muted">
          Map: Leaflet + OpenStreetMap. PDF export: Print → Save as PDF.
        </div>
      </div>
      <div class="footer__right muted">
        Images: <code>assets/images/destinations/</code> • Config: <code>config.js</code> • Products: <code>products.json</code>
      </div>
    </div>
  </footer>

  <!-- Drawer -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer__backdrop" id="drawerBackdrop" tabindex="-1" aria-label="Close details"></div>
    <aside class="drawer__panel" role="dialog" aria-modal="true" aria-label="Destination details">
      <div class="drawer__header">
        <div class="drawer__title" id="drawerTitle">Destination</div>
        <button class="iconbtn" id="drawerClose" aria-label="Close" type="button">×</button>
      </div>
      <div class="drawer__body" id="drawerBody"></div>
    </aside>
  </div>

  <!-- Data + Config (order matters) -->
  <script src="config.js"></script>
  <script src="data.js"></script>

  <!-- Leaflet -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <!-- Main App -->
  <script src="app.js"></script>

  <!-- Brand click helper -->
  <script>
    (function () {
      const brandBtn = document.getElementById("brandHome");
      if (!brandBtn) return;

      brandBtn.addEventListener("click", () => {
        const destTab = document.querySelector('.tab[data-view="destinations"]');
        if (destTab) destTab.click();
      });
    })();
  </script>
</body>
</html>
